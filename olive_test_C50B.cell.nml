<?xml version="1.0" encoding="UTF-8"?>
<neuroml xmlns="http://www.neuroml.org/schema/neuroml2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.neuroml.org/schema/neuroml2  https://raw.githubusercontent.com/NeuroML/NeuroML2/development/Schemas/NeuroML2/NeuroML_v2beta4.xsd" id="cell">
    <!-- soma -->
    <include href="na_s.channel.nml"/>
    <include href="kdr.channel.nml"/>
    <include href="k.channel.nml"/>
    <include href="cal.channel.nml"/>

    <!-- dend -->
    <include href="cah.channel.nml"/>
    <include href="kca.channel.nml"/>
    <include href="h.channel.nml"/>
    <include href="ca.nml"/>

    <!-- axon -->
    <include href="na_a.channel.nml"/>

    <!-- all  -->
    <include href="leak.channel.nml"/>

<!--
% Cell morphology
% p1     = 0.25;        % Cell surface ratio soma/dendrite
% p2     = 0.15;        % Cell surface ratio axon(hillock)/soma
% g_int  = 0.13;        % Cell internal conductance  

Adend = ldend*pi*Rdendˆ2
Asoma = lsoma*pi*Rsomaˆ2

.25 = ldend*RDendˆ2 / lsoma*pi*Rsomaˆ2

assume Rdend = 10;
assume Rsoma = 20;
assume lsoma = 20;
assume ldend = 200
4*1*ldend = lsoma*Rsomaˆ2
4*1*ldend = 10*400


assume lsoma = 20;
ldend = 2250;

Raxon = 20;
.15 = laxon*20ˆ2 / 20*20ˆ2

20 * .15 = laxon = 3;
-->


    <cell id="C50B">

        <morphology id="morphology_C50B_scaled_exp">

            <segment id="0" name="Comp_1">
                <proximal x="248.83578" y="190.54568" z="45.031277" diameter="15.96"/>
                <distal x="248.0336" y="191.15672" z="44.2881" diameter="15.01"/>
            </segment>

            <segment id="999999999" name="axon_1">
                <parent segment="0"/>
                <distal x="248.0336" y="191.15672" z="45.2881" diameter="1"/>
            </segment>

            <segment id="1" name="Comp_3">
                <parent segment="0"/>
                <distal x="248.9" y="190.38" z="43.875" diameter="14.44"/>
            </segment>

            <segment id="2" name="Comp_4">
                <parent segment="1"/>
                <distal x="247.49362" y="191.20155" z="44.082226" diameter="16.00712"/>
            </segment>

            <segment id="3" name="Comp_5">
                <parent segment="2"/>
                <distal x="246.96466" y="191.11073" z="43.5186" diameter="16.29288"/>
            </segment>

            <segment id="4" name="Comp_6">
                <parent segment="3"/>
                <distal x="246.76591" y="191.13393" z="42.69105" diameter="16.38712"/>
            </segment>

            <segment id="5" name="Comp_7">
                <parent segment="4"/>
                <distal x="247.38" y="190.38" z="42.075" diameter="15.96"/>
            </segment>

            <segment id="6" name="Comp_8">
                <parent segment="5"/>
                <distal x="246.71994" y="190.82954" z="41.62545" diameter="16.055"/>
            </segment>

            <segment id="7" name="Comp_9">
                <parent segment="6"/>
                <distal x="246.69865" y="190.6517" z="40.8483" diameter="15.77"/>
            </segment>

            <segment id="8" name="Comp_10">
                <parent segment="7"/>
                <distal x="246.48927" y="190.43243" z="40.257675" diameter="15.2"/>
            </segment>

            <segment id="9" name="Comp_11">
                <parent segment="8"/>
                <distal x="246.02454" y="189.97644" z="40.1463" diameter="14.29712"/>
            </segment>

            <segment id="10" name="Comp_12">
                <parent segment="9"/>
                <distal x="245.35498" y="189.3426" z="40.142025" diameter="13.15712"/>
            </segment>

            <segment id="11" name="Comp_13">
                <parent segment="10"/>
                <distal x="244.57788" y="188.77754" z="40.0743" diameter="11.73288"/>
            </segment>

            <segment id="12" name="Comp_14">
                <parent segment="11"/>
                <distal x="243.42154" y="188.40096" z="40.0716" diameter="10.07"/>
            </segment>

            <segment id="13" name="Comp_15">
                <parent segment="12"/>
                <distal x="242.49776" y="187.81197" z="40.020077" diameter="8.265"/>
            </segment>

            <segment id="14" name="Comp_16">
                <parent segment="13"/>
                <distal x="241.44022" y="187.19446" z="39.949875" diameter="6.41288"/>
            </segment>

            <segment id="15" name="Comp_17">
                <parent segment="14"/>
                <distal x="241.16852" y="185.69498" z="40.062374" diameter="3.04"/>
            </segment>

            <segment id="16" name="Comp_608">
                <parent segment="0" fractionAlong="0.0"/>
                <proximal x="248.83578" y="190.54568" z="45.031277" diameter="15.96"/>
                <distal x="247.99294" y="191.3129" z="45.0306" diameter="15.81712"/>
            </segment>

            <segment id="17" name="Comp_609">
                <parent segment="16"/>
                <distal x="247.90137" y="192.63303" z="45.143326" diameter="15.96"/>
            </segment>

            <segment id="18" name="Comp_610">
                <parent segment="17"/>
                <distal x="247.69844" y="193.3535" z="45.4779" diameter="15.53288"/>
            </segment>

            <segment id="19" name="Comp_611">
                <parent segment="18"/>
                <distal x="246.8366" y="193.72247" z="45.5661" diameter="14.63"/>
            </segment>

            <segment id="20" name="Comp_612">
                <parent segment="19"/>
                <distal x="246.32132" y="194.4802" z="45.6642" diameter="13.11"/>
            </segment>

            <segment id="21" name="Comp_613">
                <parent segment="20"/>
                <distal x="246.35172" y="195.37624" z="45.9783" diameter="11.21"/>
            </segment>

            <segment id="22" name="Comp_614">
                <parent segment="21"/>
                <distal x="246.3236" y="196.81226" z="46.000576" diameter="9.26288"/>
            </segment>

            <segment id="23" name="Comp_615">
                <parent segment="22"/>
                <distal x="246.22784" y="198.35278" z="45.9423" diameter="7.36288"/>
            </segment>

            <segment id="24" name="Comp_616">
                <parent segment="23"/>
                <distal x="246.44254" y="199.85112" z="45.932625" diameter="5.93712"/>
            </segment>

            <segment id="119" name="Comp_18">
                <parent segment="15"/>
                <proximal x="241.16852" y="185.69498" z="40.062374" diameter="3.84712"/>
                <distal x="240.43474" y="185.92906" z="39.85425" diameter="3.84712"/>
            </segment>

            <segment id="120" name="Comp_19">
                <parent segment="119"/>
                <distal x="239.13477" y="185.64862" z="39.835125" diameter="3.94288"/>
            </segment>

            <segment id="121" name="Comp_20">
                <parent segment="120"/>
                <distal x="238.36032" y="185.02808" z="39.776627" diameter="3.895"/>
            </segment>

            <segment id="122" name="Comp_21">
                <parent segment="121"/>
                <distal x="237.98299" y="184.5755" z="39.4497" diameter="3.8"/>
            </segment>

            <segment id="123" name="Comp_22">
                <parent segment="122"/>
                <distal x="236.86691" y="184.15332" z="39.3669" diameter="3.65712"/>
            </segment>

            <segment id="124" name="Comp_23">
                <parent segment="123"/>
                <distal x="235.9515" y="183.5837" z="39.373425" diameter="3.65712"/>
            </segment>

            <segment id="125" name="Comp_24">
                <parent segment="124"/>
                <distal x="235.15121" y="183.05208" z="39.297375" diameter="3.65712"/>
            </segment>

            <segment id="126" name="Comp_25">
                <parent segment="125"/>
                <distal x="234.45583" y="182.84119" z="38.90655" diameter="3.65712"/>
            </segment>

            <segment id="127" name="Comp_26">
                <parent segment="126"/>
                <distal x="233.63615" y="182.73288" z="38.517525" diameter="3.65712"/>
            </segment>

            <segment id="128" name="Comp_27">
                <parent segment="127"/>
                <distal x="232.34985" y="182.49918" z="38.465775" diameter="3.61"/>
            </segment>

            <segment id="129" name="Comp_28">
                <parent segment="128"/>
                <distal x="231.49144" y="181.85774" z="38.45385" diameter="3.65712"/>
            </segment>

            <segment id="130" name="Comp_29">
                <parent segment="129"/>
                <distal x="230.70483" y="181.3588" z="38.346973" diameter="3.705"/>
            </segment>

            <segment id="131" name="Comp_30">
                <parent segment="130"/>
                <distal x="229.97372" y="181.0966" z="38.018024" diameter="3.75288"/>
            </segment>

            <segment id="132" name="Comp_31">
                <parent segment="131"/>
                <distal x="229.16356" y="180.70634" z="37.9017" diameter="3.8"/>
            </segment>

            <segment id="133" name="Comp_32">
                <parent segment="132"/>
                <distal x="228.42674" y="180.53078" z="37.53135" diameter="3.8"/>
            </segment>

            <segment id="134" name="Comp_33">
                <parent segment="133"/>
                <distal x="227.55502" y="180.46124" z="37.16505" diameter="3.8"/>
            </segment>

            <segment id="135" name="Comp_34">
                <parent segment="134"/>
                <distal x="226.3261" y="180.35255" z="37.010925" diameter="3.705"/>
            </segment>

            <segment id="136" name="Comp_35">
                <parent segment="135"/>
                <distal x="226.05022" y="180.23058" z="36.342674" diameter="3.61"/>
            </segment>

            <segment id="137" name="Comp_36">
                <parent segment="136"/>
                <distal x="225.4293" y="179.7324" z="36.161774" diameter="3.515"/>
            </segment>

            <segment id="138" name="Comp_37">
                <parent segment="137"/>
                <distal x="225.19522" y="179.2916" z="35.8218" diameter="3.42"/>
            </segment>

            <segment id="139" name="Comp_38">
                <parent segment="138"/>
                <distal x="224.67386" y="179.47894" z="35.95095" diameter="3.8"/>
            </segment>

            <segment id="140" name="Comp_39">
                <parent segment="139"/>
                <distal x="223.7725" y="179.37254" z="35.776573" diameter="3.8"/>
            </segment>

            <segment id="141" name="Comp_40">
                <parent segment="140"/>
                <distal x="222.56107" y="179.0446" z="35.705475" diameter="3.705"/>
            </segment>

            <segment id="142" name="Comp_41">
                <parent segment="141"/>
                <distal x="222.14761" y="178.10182" z="35.774326" diameter="3.46712"/>
            </segment>

            <segment id="143" name="Comp_42">
                <parent segment="142"/>
                <distal x="221.54" y="177.84" z="35.775" diameter="3.04"/>
            </segment>


            <segmentGroup id="Soma" neuroLexId="sao864921383">    <!--
                This group contains an unbranched set of segments, and all of the segmentGroups marked with
                neuroLexId = sao864921383 form a non-overlapping set of all of the segments. 
                These segmentGroups correspond to the 'cables' of NeuroML v1.8.1. -->

                <member segment="0"/>
            
                <member segment="1"/>
            
                <member segment="2"/>
            
                <member segment="3"/>
            
                <member segment="4"/>
            
                <member segment="5"/>
            
                <member segment="6"/>
            
                <member segment="7"/>
            
                <member segment="8"/>
            
                <member segment="9"/>
            
                <member segment="10"/>
            
                <member segment="11"/>
            
                <member segment="12"/>
            
                <member segment="13"/>
            
                <member segment="14"/>
            
                <member segment="15"/>
            </segmentGroup>

            <segmentGroup id="ExtraSomaSec_Comp_608" neuroLexId="sao864921383">    <!--
                This group contains an unbranched set of segments, and all of the segmentGroups marked with
                neuroLexId = sao864921383 form a non-overlapping set of all of the segments. 
                These segmentGroups correspond to the 'cables' of NeuroML v1.8.1. -->

                <member segment="16"/>
            
                <member segment="17"/>
            
                <member segment="18"/>
            
                <member segment="19"/>
            
                <member segment="20"/>
            
                <member segment="21"/>
            
                <member segment="22"/>
            
                <member segment="23"/>
            
                <member segment="24"/>
            </segmentGroup>

           

            <segmentGroup id="Sec_Comp_18" neuroLexId="sao864921383">    <!--
                This group contains an unbranched set of segments, and all of the segmentGroups marked with
                neuroLexId = sao864921383 form a non-overlapping set of all of the segments. 
                These segmentGroups correspond to the 'cables' of NeuroML v1.8.1. -->

                <member segment="119"/>
            
                <member segment="120"/>
            
                <member segment="121"/>
            
                <member segment="122"/>
            
                <member segment="123"/>
            
                <member segment="124"/>
            
                <member segment="125"/>
            
                <member segment="126"/>
            
                <member segment="127"/>
            
                <member segment="128"/>
            
                <member segment="129"/>
            
                <member segment="130"/>
            
                <member segment="131"/>
            
                <member segment="132"/>
            
                <member segment="133"/>
            
                <member segment="134"/>
            
                <member segment="135"/>
            
                <member segment="136"/>
            
                <member segment="137"/>
            
                <member segment="138"/>
            
                <member segment="139"/>
            
                <member segment="140"/>
            
                <member segment="141"/>
            
                <member segment="142"/>
            
                <member segment="143"/>
            </segmentGroup>

            <segmentGroup id="axon_group">
                <member segment="999999999"/>
            </segmentGroup>

            <segmentGroup id="all">
                <include segmentGroup="axon_group"/>
                <include segmentGroup="Soma"/>
                <include segmentGroup="ExtraSomaSec_Comp_608"/>
                <include segmentGroup="Sec_Comp_18"/>
            </segmentGroup>

            <segmentGroup id="Colour_White">
                <include segmentGroup="Soma"/>
                <include segmentGroup="ExtraSomaSec_Comp_608"/>
            </segmentGroup>

            <segmentGroup id="soma_group" neuroLexId="GO:0043025">    <!--Soma group-->

                <include segmentGroup="Soma"/>
            </segmentGroup>

            <segmentGroup id="dendrite_group" neuroLexId="GO:0030425">    <!--Dendrite group-->

                <include segmentGroup="ExtraSomaSec_Comp_608"/>
                <include segmentGroup="Sec_Comp_18"/>
            </segmentGroup>

            <segmentGroup id="ExtraSomaSegments">
                <include segmentGroup="ExtraSomaSec_Comp_608"/>
            </segmentGroup>

            <segmentGroup id="Colour_Green">
                <include segmentGroup="Sec_Comp_18"/>
            </segmentGroup>

            
        </morphology>


        <biophysicalProperties id="biophys">

            <membraneProperties>
                <!-- soma -->
                <channelDensity condDensity="30 mS_per_cm2" id="na_s_soma" segmentGroup="soma_group" ionChannel="na_s" ion="na" erev="55 mV"/>
                <channelDensity condDensity="30 mS_per_cm2" id="kdr_soma" segmentGroup="soma_group" 
                ionChannel="kdr" ion="k" erev="-75 mV"/>
                <channelDensity condDensity="15 mS_per_cm2" id="k_soma" segmentGroup="soma_group"
                ionChannel="k" ion="k" erev="-75 mV"/>
                <channelDensity condDensity="20 mS_per_cm2" id="cal_soma" segmentGroup="soma_group"
                ionChannel="cal" ion="cal" erev="120 mV"/>

                <!-- dendrite 10 35 25--> 
                <channelDensity condDensity="10 mS_per_cm2" id="cah_dend" segmentGroup="dendrite_group" ionChannel="cah" ion="ca" erev="120 mV"/>
                <channelDensity condDensity="35 mS_per_cm2" id="kca_dend" segmentGroup="dendrite_group" ionChannel="kca" ion="k" erev="-75 mV"/>
                <channelDensity condDensity="25 mS_per_cm2" id="h_dend" segmentGroup="dendrite_group" ionChannel="h" ion="k" erev="-43 mV"/>

                <!-- axon -->
                <channelDensity condDensity="200 mS_per_cm2" id="na_axon" segmentGroup="axon_group" ionChannel="na_a" ion="na" erev="55 mV"/>
                <channelDensity condDensity="200 mS_per_cm2" id="k_axon" segmentGroup="axon_group" ionChannel="k" ion="k" erev="-75 mV"/>

                <channelDensity condDensity="1.3e-2 mS_per_cm2" id="leak_all" segmentGroup="all" ionChannel="leak" ion="_leak" erev="10 mV"/>
                
                <spikeThresh value="0 mV"/>
                <specificCapacitance value="1 uF_per_cm2"/>
                <initMembPotential value="-65.0 mV"/>

            </membraneProperties>


            <intracellularProperties>
                <species segmentGroup="dendrite_group" id="ca" ion="ca" concentrationModel="ca_conc" initialConcentration="3.7152 mM" initialExtConcentration="3.0mM"/>

                <resistivity value=".1 ohm_cm" segmentGroup="soma_group"/>
                <resistivity value=".1 ohm_cm" segmentGroup="dendrite_group"/>
                <resistivity value=".1 ohm_cm" segmentGroup="axon_group"/>
            </intracellularProperties>

        </biophysicalProperties>

    </cell>

</neuroml>
